<div class="p-6 bg-gray-50 min-h-screen">
    <header class="bg-white shadow-sm h-16 flex items-center justify-between px-6 sticky top-0 z-10 rounded-lg mb-6">
        <h2 class="text-lg font-bold text-[#0B4D6C]">Control de Asistencia - Sesiones</h2>
    </header>

    @if (isLoading) {
        <app-loading-spinner message="Cargando sesiones..."></app-loading-spinner>
    } @else {
        <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden fade-in">
            <div class="p-5 border-b border-gray-100 bg-gray-50">
                <h3 class="font-bold text-[#002940] text-sm uppercase tracking-wide">Listado de Sesiones</h3>
            </div>
            <div class="overflow-x-auto">
                <table class="w-full text-sm text-left text-gray-500">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-50 border-b">
                        <tr>
                            <th class="px-6 py-3">Fecha</th>
                            <th class="px-6 py-3">Tema Tratado</th>
                            <th class="px-6 py-3 text-center">Estado</th>
                            <th class="px-6 py-3 text-right">Acci√≥n</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-100">
                        @for (s of sesiones; track s.idSesion) {
                            <tr class="bg-white hover:bg-gray-50 transition">
                                <td class="px-6 py-4 font-mono text-xs">
                                    {{ s.fecha | date:'dd/MM/yyyy' }}
                                </td>
                                <td class="px-6 py-4 font-medium text-gray-900">
                                    {{ s.temaTratado || 'Sin tema registrado' }}
                                </td>
                                <td class="px-6 py-4 text-center">
                                    @if (s.estado === 'FINALIZADA') {
                                        <span class="bg-blue-100 text-blue-800 text-xs font-bold px-2.5 py-0.5 rounded border border-blue-200">
                                            Finalizada
                                        </span>
                                    } @else {
                                        <span class="bg-yellow-100 text-yellow-800 text-xs font-bold px-2.5 py-0.5 rounded border border-yellow-200">
                                            En Curso
                                        </span>
                                    }
                                </td>
                                <td class="px-6 py-4 text-right">
                                    @if (s.estado !== 'FINALIZADA') {
                                        <a [routerLink]="['/docente/sesiones', s.idSesion, 'asistencia']" 
                                           class="text-white bg-green-600 hover:bg-green-700 px-3 py-1.5 rounded text-xs font-bold shadow transition cursor-pointer">
                                            <i class="fa-solid fa-list-check mr-1"></i> Tomar Lista
                                        </a>
                                    } @else {
                                        <a [routerLink]="['/docente/sesiones', s.idSesion, 'asistencia']" 
                                           class="text-gray-500 hover:text-[#0B4D6C] font-semibold text-xs cursor-pointer flex items-center justify-end gap-1">
                                            <i class="fa-regular fa-eye"></i> Ver detalle
                                        </a>
                                    }
                                </td>
                            </tr>
                        } @empty {
                            <tr>
                                <td colspan="4" class="px-6 py-8 text-center text-gray-500">
                                    No hay sesiones programadas para este curso.
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    }
</div>